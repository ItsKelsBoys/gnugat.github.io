<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>PragmatiClean - TDD &mdash; Lo誰c Faugeron &mdash; Technical Blog</title>
    <meta name="description" content="Technical articles about Symfony and TDD">
    <meta name="author" content="Lo誰c Faugeron">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="canonical" href="/2017/09/27/pragmaticlean-tdd.html"/>
        <link rel="alternate" href="https://gnugat.github.io/feed/atom.xml" type="application/atom+xml" title="Lo誰c Faugeron"/>
    
    <link rel="stylesheet" href="https://gnugat.github.io/css/normalize.css">
    <link rel="stylesheet" href="https://gnugat.github.io/css/skeleton.css">
    <link rel="stylesheet" href="https://gnugat.github.io/css/dop-dop-dop.css">
    <link rel="stylesheet" href="https://gnugat.github.io/css/highlight_9_0_0_monokai_sublime.min.css">
</head>
<body>
    <div class="container">
        <header class="title">
            <h1>
                <a href="https://gnugat.github.io/">Lo誰c Faugeron</a>
                <span class="sub-title">Technical Blog</span>
            </h1>
            
            <nav class="row">
                <a class="button two columns" href="https://gnugat.github.io/about">About</a>
                <a class="button two columns" href="https://gnugat.github.io/">Articles</a>
                <a class="button three columns" href="https://gnugat.github.io/best-articles">Best Articles</a>
                <a class="button two columns" href="https://gnugat.github.io/feed/atom.xml">RSS</a>
                <a class="button two columns" href="https://github.com/gnugat/gnugat.github.io/tree/master/_sculpin">Sources</a>
            </nav>
        </header>

        <article>
            <header>
                <h2>
    PragmatiClean - TDD
    <span class="sub-title">27/09/2017</span>
</h2>
                            <nav>
                                                            <a class="button " href="https://gnugat.github.io/tags/pragmaticlean">pragmaticlean</a>
                                                            <a class="button " href="https://gnugat.github.io/tags/symfony">symfony</a>
                                                            <a class="button " href="https://gnugat.github.io/tags/tdd">tdd</a>
                    </nav>
                </header>

                <blockquote>
  <p><strong>TL;DR</strong>: Write tests first, then code, then refactor.
  Only unit test Commands and Command Handlers.
  Only functional test Controllers and Commands.</p>
</blockquote>

<p>TDD can be summed up in the following steps when developing:</p>

<ol>
<li>create a test</li>
<li>then write just enough code to make the test pass (quick and dirty, or
"make it work")</li>
<li>then refactor the code (clean, or "make it right")</li>
</ol>

<p>Writing the test before the code forces us to think about how we'd like the
future code to be <em>used</em>. It's like writing specifications, but with 3
purposes: design, documentation and automated regression checking.</p>

<p>This discipline makes it easy to have a high code coverage (although rigour
still needs to be applied: we need to test all the happy paths and all the
unhappy ones).</p>

<h2 id="clean-code">Clean Code</h2>

<h2 id="pragmatic-code">Pragmatic Code</h2>

<h2 id="symfony-example">Symfony Example</h2>

<h2 id="conclusion">Conclusion</h2>

<p>Command Bus allows us to decouple our application logic from the framework,
protecting us from Backward Compability Breaking changes.</p>

<p>However since the Bus can be replaced by Event Listeners, we can simply drop it
and inject the Command Handlers directly in Controllers. If our application
isn't asynchronous, then Command Handlers should be able to return values.</p>

<p>So our PragmatiClean Command Bus is simply a Command and Command Handler pair
for each Use Case in our application (so one pair per Controller action).</p>

<blockquote>
  <p>For more resources on TDD, check these links:</p>
  
  <ul>
  <li><a href="http://codemanship.co.uk/parlezuml/blog/?postid=1170">Straw man TDD</a></li>
  <li><a href="http://codemanship.co.uk/parlezuml/blog/?postid=1202">Coverage!!!</a></li>
  <li><a href="http://blog.testdouble.com/posts/2014-01-25-the-failures-of-intro-to-tdd.html">The Failures of "Intro to TDD"</a></li>
  <li><a href="http://tech.mybuilder.com/coupling-tests/">TDD, avoid testing implementation details</a></li>
  <li><a href="http://blog.8thlight.com/uncle-bob/2014/04/25/MonogamousTDD.html">Monogamous TDD</a></li>
  <li><a href="http://blog.8thlight.com/uncle-bob/2014/04/30/When-tdd-does-not-work.html">When TDD doesn't work</a></li>
  <li><a href="http://codurance.com/2015/05/12/does-tdd-lead-to-good-design/">Does TDD really lead to good design?</a></li>
  <li><a href="http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html">TDD is dead, long live testing</a></li>
  <li><a href="http://www.daedtech.com/what-tdd-is-and-is-not/">What TDD is and is not</a></li>
  <li><a href="https://vimeo.com/68375232">TDD, where it all went wrong</a></li>
  <li><a href="https://medium.com/@davidihunt/tdd-and-complexity-1bbd5ca51ee7#.4mzrdro57">TDD and Complexity</a></li>
  <li><a href="http://blog.cleancoder.com/uncle-bob/2016/03/19/GivingUpOnTDD.html">Giving up on TDD</a></li>
  </ul>
  
  <p>Also here are some usage examples, with code and everything:</p>
  
  <ul>
  <li><a href="https://gnugat.github.io/2016/06/15/mars-rover-introduction.html">Mars Rover</a>:
  an application coded chapter after chapter, using TDD</li>
  <li><a href="https://gnugat.github.io/2016/03/24/ultimate-symfony-api-example.html">The Ultimate Developer Guide to Symfony</a>
  Examples on how to create an API endpoint, a full stack web page and a console command
  with Symfony and TDD</li>
  </ul>
</blockquote>


            <footer>
                            <nav class="row">
                            <a class="button six columns" href="https://gnugat.github.io/2017/09/20/pragmaticlean-command-bus.html" title="PragmatiClean - Command Bus">Previous &lt; PragmatiClean - Command Bus</a>
                                </nav>
                    <hr />
            </footer>
        </article>

        <footer>
            <nav class="row">
                <a class="button two columns" href="https://gnugat.github.io/about">About</a>
                <a class="button two columns" href="https://gnugat.github.io/">Articles</a>
                <a class="button three columns" href="https://gnugat.github.io/best-articles">Best Articles</a>
                <a class="button two columns" href="https://gnugat.github.io/feed/atom.xml">RSS</a>
                <a class="button two columns" href="https://github.com/gnugat/gnugat.github.io/tree/master/_sculpin">Sources</a>
            </nav>
        </footer>
    </div>

    <script src="https://gnugat.github.io/js/highlight_9_0_0.min.js"></script>
    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-47822314-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</body>
</html>
